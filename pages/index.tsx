import type { NextPage } from "next";
import { Divider, Stack } from "@mui/material";
import { AuthBanner } from "@/components/auth/AuthBanner";
import { ActiveGameBanner } from "@/components/game/ActiveGameBanner";
import { useAtomValue } from "jotai";
import { userAtom } from "@/atoms";
import Image from "next/image";
import { FlexCenter } from "@/components/flex/FlexCenter";
import { Fragment } from "react";

const Hero = () => (
  <FlexCenter>
    <Image
      src={"/hero-picture.png"}
      alt={
        "a bunch of random character drawings generated by dall-e artificial intelligence"
      }
      style={{ objectFit: "contain", textAlign: "center" }}
      width={300}
      height={300}
    />
  </FlexCenter>
);

const Home: NextPage = () => {
  const user = useAtomValue(userAtom);
  const signedIn = Boolean(user);

  return (
    <Stack spacing={4}>
      {!signedIn && <Hero />}

      <AuthBanner />

      {signedIn && (
        <Fragment>
          <Divider />
          <ActiveGameBanner />
        </Fragment>
      )}
    </Stack>
  );
};

export default Home;
